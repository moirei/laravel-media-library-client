(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{416:function(e,t,n){"use strict";n.r(t);var r=n(59),a=(n(94),new(n(329).Media)({baseURL:"http://127.0.0.1:8000/media-library",forceDeletes:!0})),i={data:function(){return{media:a.sync}},methods:{openUpload:function(){this.$refs.file.click()},upload:function(e){var t=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var r,a;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.target.files,a=void 0===r?[]:r,n.abrupt("return",t.media.upload(a[0]));case 2:case"end":return n.stop()}}),n)})))()},share:function(e){return Object(r.a)(regeneratorRuntime.mark((function t(){var n,r,i,o,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n={public:!1,access_emails:["augustusokoye@moirei.com"],access_keys:["moirei"]},"folder"!=e.type){t.next=10;break}return t.next=4,a.folder.share(e,n);case 4:r=t.sent,i=r.url,console.log("Shareable link",i),alert(i),t.next=16;break;case 10:return t.next=12,a.share(e,n);case 12:o=t.sent,l=o.url,console.log("Shareable link",l),alert(l);case 16:case"end":return t.stop()}}),t)})))()},move:function(e){"folder"==e.type?this.media.folder.move(e,"Products"):this.media.move(e,"Products"),this.media.fresh()},rename:function(e){"folder"==e.type?this.media.folder.update(e,{name:"Updated Folder Name"}):this.media.update(e,{name:"Updated File Name"})},del:function(e){"folder"==e.type?this.media.folder.delete(e):this.media.delete(e)}}},o=n(45),l=Object(o.a)(i,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-text-field",{attrs:{label:"CWD"},model:{value:e.media.cwd,callback:function(t){e.$set(e.media,"cwd",t)},expression:"media.cwd"}}),e._v(" "),e.media.loading?n("div",[e._v("\n    Loading Library...\n  ")]):n("div",e._l(e.media.files,(function(t){return n("div",{key:t.id},[t.loading?n("div",[e._v("\n        Loading...\n      ")]):n("div",[n("h2",[e._v(e._s(t.name))]),e._v(" "),n("small",[e._v("Type: "+e._s(t.type))]),e._v(" "),n("p",[n("button",{on:{click:e.share}},[e._v("Share")]),e._v(" "),n("button",{on:{click:function(n){return e.rename(t)}}},[e._v("Rename")]),e._v(" "),n("button",{on:{click:function(n){return e.del(t)}}},[e._v("Delete")])])])])})),0),e._v(" "),n("button",{on:{click:e.openUpload}},[e._v("Upload")]),e._v(" "),n("input",{ref:"file",attrs:{type:"file",hidden:"",multiple:""},on:{change:e.upload}})],1)}),[],!1,null,null,null);t.default=l.exports}}]);