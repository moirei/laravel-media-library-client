(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{329:function(e,t,r){"use strict";r(107),r(165);var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(r(369),t),a(r(330),t);var o=r(330);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o.Media}})},330:function(e,t,r){"use strict";var n=r(370).default,a=r(375).default,o=r(376).default;r(94),r(9),r(166),r(29),r(165),r(377),r(378),r(379);var i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(a,o){function i(e){try{c(n.next(e))}catch(e){o(e)}}function u(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,u)}c((n=n.apply(e,t||[])).next())}))},u=this&&this.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r};Object.defineProperty(t,"__esModule",{value:!0}),t.Media=void 0;var c=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.axios,o=t.baseURL,i=void 0===o?"/":o,u=t.headers,c=void 0===u?{}:u,s=t.forceDeletes,d=void 0!==s&&s;a(this,e),this.http=n||r(380).default.create({baseURL:i,headers:c}),this.forceDeletes=d}return o(e,[{key:"browse",value:function(e){return i(this,void 0,void 0,regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.http({method:"post",url:"/browse",data:{location:e}});case 2:return r=t.sent,n=r.data,t.abrupt("return",n);case 5:case"end":return t.stop()}}),t,this)})))}},{key:"upload",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,n=t.location,a=void 0===n?"/":n,o=u(t,["location"]);return i(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n,i,u,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(i in(n=new FormData).append("file",e),n.append("location",a),o)n.append(i,o[i]);return t.next=6,this.http({method:"post",url:"/upload",data:n,headers:{"content-type":"multipart/form-data"},onUploadProgress:function(e){r&&r(Math.round(e.loaded/e.total*100))}});case 6:return u=t.sent,c=u.data,t.abrupt("return",c);case 9:case"end":return t.stop()}}),t,this)})))}},{key:"update",value:function(e,t){return i(this,void 0,void 0,regeneratorRuntime.mark((function r(){var n,a,o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return this.setLoading(e),n="string"==typeof e?e:e.id,r.next=4,this.http({method:"post",url:"/update/".concat(n),data:t});case 4:return a=r.sent,o=a.data,this.setLoading(e,!1),r.abrupt("return",o);case 8:case"end":return r.stop()}}),r,this)})))}},{key:"move",value:function(e,t){return i(this,void 0,void 0,regeneratorRuntime.mark((function r(){var n,a,o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return this.setLoading(e),n="string"==typeof e?e:e.id,r.next=4,this.http({method:"post",url:"/move/".concat(n),data:{location:t}});case 4:return a=r.sent,o=a.data,this.setLoading(e,!1),r.abrupt("return",o);case 8:case"end":return r.stop()}}),r,this)})))}},{key:"delete",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return i(this,void 0,void 0,regeneratorRuntime.mark((function r(){var n,a,o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return this.setLoading(e),n="string"==typeof e?e:e.id,r.next=4,this.http({method:"delete",url:"/delete/".concat(n),data:Object.assign(Object.assign({},t),{force:void 0!==t.force?t.force:this.forceDeletes})});case 4:return a=r.sent,o=a.data,r.abrupt("return",o);case 7:case"end":return r.stop()}}),r,this)})))}},{key:"downloadableLink",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return i(this,void 0,void 0,regeneratorRuntime.mark((function r(){var n,a,o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n="string"==typeof e?e:e.id,r.next=3,this.http({method:"post",url:"/downloadable-link/".concat(n),data:t});case 3:return a=r.sent,o=a.data,r.abrupt("return",o);case 6:case"end":return r.stop()}}),r,this)})))}},{key:"share",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return i(this,void 0,void 0,regeneratorRuntime.mark((function r(){var n,a,o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n="string"==typeof e?e:e.id,r.next=3,this.http({method:"post",url:"/share/".concat(n),data:t});case 3:return a=r.sent,o=a.data,r.abrupt("return",o);case 6:case"end":return r.stop()}}),r,this)})))}},{key:"setLoading",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];"string"!=typeof e&&(e.loading=t)}},{key:"attachment",get:function(){var e=this;return{upload:function(t){return i(this,void 0,void 0,regeneratorRuntime.mark((function r(){var n,a,o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return(n=new FormData).append("file",t),r.next=4,e.http({method:"post",url:"/attachment",data:n,headers:{"content-type":"multipart/form-data"}});case 4:return a=r.sent,o=a.data,r.abrupt("return",o);case 7:case"end":return r.stop()}}),r)})))},purge:function(t){return i(this,void 0,void 0,regeneratorRuntime.mark((function r(){var n,a;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.http({method:"delete",url:"/attachment/".concat(t)});case 2:return n=r.sent,a=n.data,r.abrupt("return",a);case 5:case"end":return r.stop()}}),r)})))}}}},{key:"folder",get:function(){var e=this;return{create:function(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return i(this,void 0,void 0,regeneratorRuntime.mark((function a(){var o,i;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.http({method:"post",url:"folder/create",data:Object.assign({name:t,location:r},n)});case 2:return o=a.sent,i=o.data,a.abrupt("return",i);case 5:case"end":return a.stop()}}),a)})))},update:function(t,r){return i(this,void 0,void 0,regeneratorRuntime.mark((function n(){var a,o,i;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.setLoading(t),a="string"==typeof t?t:t.id,n.next=4,e.http({method:"post",url:"/folder/update/".concat(a),data:r});case 4:return o=n.sent,i=o.data,e.setLoading(t,!1),n.abrupt("return",i);case 8:case"end":return n.stop()}}),n)})))},move:function(t,r){return i(this,void 0,void 0,regeneratorRuntime.mark((function n(){var a,o,i;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.setLoading(t),a="string"==typeof t?t:t.id,n.next=4,e.http({method:"post",url:"/folder/move/".concat(a),data:{location:r}});case 4:return o=n.sent,i=o.data,e.setLoading(t,!1),n.abrupt("return",i);case 8:case"end":return n.stop()}}),n)})))},delete:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return i(this,void 0,void 0,regeneratorRuntime.mark((function n(){var a,o,i;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.setLoading(t),a="string"==typeof t?t:t.id,n.next=4,e.http({method:"delete",url:"/folder/delete/".concat(a),data:Object.assign(Object.assign({},r),{force:void 0!==r.force?r.force:e.forceDeletes})});case 4:return o=n.sent,i=o.data,n.abrupt("return",i);case 7:case"end":return n.stop()}}),n)})))},share:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return i(this,void 0,void 0,regeneratorRuntime.mark((function n(){var a,o,i;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a="string"==typeof t?t:t.id,n.next=3,e.http({method:"post",url:"/folder/share/".concat(a),data:r});case 3:return o=n.sent,i=o.data,n.abrupt("return",i);case 6:case"end":return n.stop()}}),n)})))}}}},{key:"sync",get:function(){var e=this,t={upload:function(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2?arguments[2]:void 0,o=n.location,c=u(n,["location"]);return i(this,void 0,void 0,regeneratorRuntime.mark((function n(){var i,u;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=o||t._cwd,n.next=3,e.upload(r,Object.assign({location:i},c),a);case 3:return u=n.sent,i===t._cwd&&t.dataAdd(u),n.abrupt("return",u);case 6:case"end":return n.stop()}}),n)})))},update:function(r,n){return i(this,void 0,void 0,regeneratorRuntime.mark((function a(){var o;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.update(r,n);case 2:return o=a.sent,t.dataUpdate(o),a.abrupt("return",o);case 5:case"end":return a.stop()}}),a)})))},move:function(r,n){return i(this,void 0,void 0,regeneratorRuntime.mark((function a(){var o;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.move(r,n);case 2:return o=a.sent,n===t._cwd?t.dataAdd(o):t.dataRemove(o),a.abrupt("return",o);case 5:case"end":return a.stop()}}),a)})))},delete:function(r){return i(this,void 0,void 0,regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.delete(r);case 2:return a=n.sent,t.dataRemove(a),n.abrupt("return",a);case 5:case"end":return n.stop()}}),n)})))},get folder(){var r=this;return{create:function(n,a){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return i(r,void 0,void 0,regeneratorRuntime.mark((function r(){var i,u;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return i=a||t._cwd,r.next=3,e.folder.create(n,i,o);case 3:return u=r.sent,i===t._cwd&&t.dataAdd(u),r.abrupt("return",u);case 6:case"end":return r.stop()}}),r)})))},update:function(n,a){return i(r,void 0,void 0,regeneratorRuntime.mark((function r(){var o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.folder.update(n,a);case 2:return o=r.sent,t.dataUpdate(o),r.abrupt("return",o);case 5:case"end":return r.stop()}}),r)})))},move:function(n,a){return i(r,void 0,void 0,regeneratorRuntime.mark((function r(){var o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.folder.move(n,a);case 2:return o=r.sent,a===t._cwd?t.dataAdd(o):t.dataRemove(o),r.abrupt("return",o);case 5:case"end":return r.stop()}}),r)})))},delete:function(n){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return i(r,void 0,void 0,regeneratorRuntime.mark((function r(){var o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.folder.delete(n,a);case 2:return o=r.sent,t.dataRemove(o),r.abrupt("return",o);case 5:case"end":return r.stop()}}),r)})))}}},_loading:!1,_cwd:"/",data:[],get loading(){return t._loading},get files(){return t.data},get cwd(){return t._cwd},set cwd(e){t._cwd=void 0!==e&&e?e:"/",t.fresh()},fresh:function(){return i(this,void 0,void 0,regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t._loading=!0,r.next=3,e.browse(t._cwd);case 3:n=r.sent,t.data=n,t._loading=!1;case 6:case"end":return r.stop()}}),r)})))},dataAdd:function(e){t.data.findIndex((function(t){var r=t.id;return e.id==r}))<0&&t.data.push(e)},dataUpdate:function(e){var r=t.data.findIndex((function(t){var r=t.id;return e.id==r}));if(r>=0){var a=t.data;a[r]=e,t.data=n(a)}},dataRemove:function(e){var r=t.data.findIndex((function(t){var r=t.id;return e.id==r}));r>=0&&t.data.splice(r,1)}};return setTimeout((function(){return t.fresh()}),100),t}}]),e}();t.Media=c},369:function(e,t,r){"use strict";r(165),Object.defineProperty(t,"__esModule",{value:!0})}}]);